/* --- CSS PURO (Sem variáveis SCSS para garantir que funcione) --- */

/* Cores Hardcoded para referência:
   Amarelo Neon: #ffee00
   Rosa Neon: #ff0055
   Ciano Neon: #00f3ff
   Fundo Escuro: #02020a
   Card BG: #0a0a14
*/

/* 1. Botão Flutuante (FAB) */
.chat-fab-button {
  position: fixed !important;
  bottom: 30px;
  right: 30px;
  z-index: 99999;
  transform: scale(1.1);
  background-color: #ffee00 !important; /* Amarelo */
  color: #02020a !important; /* Preto */
  font-weight: bold;
  border: 2px solid #02020a;
  /* Hexágono */
  clip-path: polygon(15% 0, 100% 0, 100% 85%, 85% 100%, 0 100%, 0 15%);
  box-shadow: 0 0 15px rgba(255, 238, 0, 0.4);
}

/* 2. Janela do Chat */
.chat-card {
  position: fixed !important;
  bottom: 100px;
  right: 30px;
  width: 380px;
  height: 550px;
  z-index: 99999;
  display: flex;
  flex-direction: column;
  background-color: rgba(10, 10, 20, 0.98) !important;
  border-radius: 0 !important;
  overflow: hidden;
  border: 1px solid #00f3ff;
  box-shadow: 0 0 30px rgba(0, 243, 255, 0.15);
  font-family: 'Courier New', Courier, monospace;

  /* Canto cortado Cyberpunk */
  clip-path: polygon(0 0, 100% 0, 100% 100%, 10% 100%, 0 95%);
}

/* 3. Header */
.chat-header {
  background: #02020a;
  color: #00f3ff;
  padding: 16px !important;
  border-bottom: 1px solid #2a2a35;
  position: relative;
}

.chat-header::after {
  content: '';
  position: absolute;
  bottom: -1px; left: 0; width: 40%;
  height: 2px;
  background: #ff0055; /* Rosa */
}

.chat-header mat-card-subtitle {
  color: #ffee00 !important;
  font-weight: bold;
  font-family: 'Courier New', Courier, monospace;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.header-avatar {
  background: #02020a;
  display: flex !important;
  align-items: center;
  justify-content: center;
  color: #00f3ff;
  border: 1px solid #00f3ff;
  box-shadow: 0 0 5px #00f3ff;
}

/* 4. Conteúdo */
.chat-content {
  flex: 1;
  overflow-y: auto;
  padding: 16px !important;
  background-color: #02020a;
  display: flex;
  flex-direction: column;
  gap: 12px;
  background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  background-size: 100% 20px;
}

/* 5. Balões */
.message-row { display: flex; width: 100%; }
.user-row { justify-content: flex-end; }

.message-bubble {
  padding: 10px 14px;
  max-width: 85%;
  font-size: 13px;
  line-height: 1.5;
  font-family: 'Courier New', Courier, monospace;
}

.bot-bubble {
  background-color: #0a0a14;
  color: #e0e0e0;
  border-left: 2px solid #ff0055;
  border-top: 1px solid #2a2a35;
  border-right: 1px solid #2a2a35;
  border-bottom: 1px solid #2a2a35;
}

.user-bubble {
  background-color: rgba(0, 243, 255, 0.1);
  color: #00f3ff;
  border: 1px solid #00f3ff;
  text-shadow: 0 0 2px rgba(0, 243, 255, 0.5);
}

/* 6. Input Area */
.chat-actions {
  padding: 12px;
  background-color: #02020a;
  border-top: 1px solid #2a2a35;
}

.full-width { width: 100%; }
.no-bottom-padding .mat-mdc-form-field-subscript-wrapper { display: none; }

/* 7. LOADING */
.loading-container {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: #ff0055;
  margin-left: 5px;
  font-family: 'Courier New', Courier, monospace;
  font-weight: bold;
  text-transform: uppercase;
}

/* ==========================================================================
   8. CORREÇÃO DEFINITIVA DO INPUT (FORCE OVERRIDE)
   ========================================================================== */

/* Input de Texto - Cor Amarelo Neon */
.chat-actions input {
  color: #ffee00 !important; /* Force a cor aqui */
  caret-color: #ff0055 !important;
  font-family: 'Courier New', Courier, monospace;
}

/* Hack para vencer o Angular Material */
::ng-deep .mat-mdc-form-field .mat-mdc-input-element {
  color: #ffee00 !important;
  -webkit-text-fill-color: #ffee00 !important;
}

::ng-deep .mat-mdc-form-field .mat-mdc-input-element::placeholder {
  color: #858595 !important;
  opacity: 0.5;
}

/* Fundo do Input */
::ng-deep .mdc-text-field--filled {
  background-color: #050505 !important;
  border-radius: 0;
  border: 1px solid #2a2a35;
  border-bottom: 2px solid #00f3ff;
}

/* Label Flutuante */
::ng-deep .mdc-floating-label {
  color: #858595 !important;
}
::ng-deep .mdc-text-field--focused .mdc-floating-label {
  color: #ff0055 !important; /* Label Rosa ao focar */
}

/* Ícone de Enviar */
::ng-deep .mat-mdc-form-field-icon-suffix {
  color: #00f3ff !important;
}
